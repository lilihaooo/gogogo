## 分布式

* 微服务
  * 拒绝大型单体应用, 基于业务边界进行微服务的拆分, 各个服务独立部署运行



* 集群, 分布式, 节点

  * 集群: kafka, mysql 集群, 同多个服务器部署同一个功能的服务, 集群中的每一个服务器就是一个节点.

  * 分布式: 一个大型的的应用的很多功能部署在不同的服务器上.

    **分布式中的每一个节点, 都可以做集群. 而集群并不是就是分布式**





* 远程调用
  * 在分布式系统中, 各个服务可能处于不同的主机, 但是服务之间不可避免的需要相互调用, 我们称为远程调用





* 负载均衡
  * 在调用集群服务时, 就会产生负载均衡
  * 常见的负载均衡的算法:
    * 轮询
    * 最小连接: 优先选择最小连接数的(压力最小的)服务器
    * 散列  根据请求的ip的散列(hash来选择服务器---- 同一个Ip始终到达同一个服务器中





* 服务注册/ 发现

  * 服务注册: 微服务中每一个服务启动前就要到注册中心去注册一个服务(例如xx服务)

  * 服务发现: 在客户端请求服务时会直接到注册中心获取服务的信息(ip+port), 然后再去请求这个服务

    **这样做的好处, 服务端的服务在上线时会在注册中心注册服务, 下线时会到注册中心注销服务, 客户端在每次访问某个服务时到注册中心去发现服务, 客户端就会时刻感知到服务端的状态, 避免调用不可用的服务**

​			





* 配置中心
  * 每个服务都有大量的配置, 并且每个服务都有可能部署到多个机器上. 配置应该由配置中心集中管理微服务的配置信息.(让每个服务在配置中心中货期自己的配置)





* 服务的熔断&服务的降级
  * 服务熔断
    * 一个服务调用另一个服务时, 被调用的服务经常失败达到某个阈值. 开启断路保护机制, 后来的请求不在调用这个服务. 直接返回默认值
  * 服务降级(整体把控)
    * 在运维期间, 当系统处于高峰期, 系统资源紧张, 我们可以让非核心的业务降级运行. 降级: 某些服务不处理, 或者简单处理(返回默认值, 抛出异常, 返回null...)





* api网关(api Gate)
  * 前端发来的所有请求都先到达网关. 网关可以: 统一认证, 限流流控, 日志统计, 服务熔断, 负载均衡, 灰度发布, 自动熔断...  (相当于大商场的唯一案件入口)