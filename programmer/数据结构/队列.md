## 队列 queue

先进先出

入队: enqueue()

出队: depueue()



队列跟栈一样，也是一种操作受限的线性表数据结构。

用数组实现的队列叫作顺序队列，用链表实现的队列叫作链式队列。



对于栈来说，我们只需要一个栈顶指针就可以了. 但是队列需要两个指针：一个是 head 指针，指向队头；一个是 tail 指针，指向队尾。





#### 循环队列





#### 阻塞队列

在队列为空的时候，从队头取数据会被阻塞。因为此时还没有数据可取，直到队列中有了数据才能返回；如果队列已经满了，那么插入数据的操作就会被阻塞，直到队列中有空闲位置后再插入数据，然后再返回。



#### 并发队列

**线程安全队列也叫并发队列**, 简单直接的实现方式是直接在 enqueue()、dequeue() 方法上**加锁**, 但是锁粒度大并发度会比较低，同一时刻仅允许一个存或者取操作。 实际上，基于数组的循环队列，利用 **CAS 原子操作**，可以实现非常高效的并发队列。





#### 总结

队列最大的特点就是先进先出，主要的两个操作是入队和出队。跟栈一样，它既可以用数组来实现，也可以用链表来实现。用数组实现的叫顺序队列，用链表实现的叫链式队列。特别是长得像一个环的循环队列。在数组实现队列的时候，会有数据搬移操作，要想解决数据搬移的问题，我们就需要像环一样的循环队列。





**分布式应用中的消息队列**，也是一种队列结构